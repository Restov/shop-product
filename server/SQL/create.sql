CREATE TABLE if NOT EXISTS product (id INTEGER NOT NULL PRIMARY KEY AUTO_INCREMENT, title VARCHAR(45) NOT NULL UNIQUE, price INT NOT NULL, price_no_discount INT, price_promo INT, description TEXT);
CREATE TABLE if NOT EXISTS category (id INTEGER NOT NULL PRIMARY KEY AUTO_INCREMENT, name VARCHAR(45) NOT NULL UNIQUE, description TEXT);
CREATE TABLE if NOT EXISTS image (id INTEGER NOT NULL PRIMARY KEY AUTO_INCREMENT, ref TEXT NOT NULL UNIQUE, alt VARCHAR(45) NOT NULL);
CREATE TABLE if NOT EXISTS product_images (id INTEGER NOT NULL PRIMARY KEY AUTO_INCREMENT, product_id INT NOT NULL, image_id INT NOT NULL, FOREIGN KEY (product_id) REFERENCES product(id), FOREIGN KEY (image_id) REFERENCES image(id));
CREATE TABLE if NOT EXISTS product_categories (id INTEGER NOT NULL PRIMARY KEY AUTO_INCREMENT, product_id INT NOT NULL, category_id INT NOT NULL, FOREIGN KEY (product_id) REFERENCES product(id), FOREIGN KEY (category_id) REFERENCES category(id));
CREATE TABLE if NOT EXISTS product_main_category (id INTEGER NOT NULL PRIMARY KEY AUTO_INCREMENT, product_id INT NOT NULL UNIQUE, category_id INT NOT NULL, FOREIGN KEY (product_id) REFERENCES product(id), FOREIGN KEY (category_id) REFERENCES category(id));
CREATE TABLE if NOT EXISTS product_main_image(id INTEGER NOT NULL PRIMARY KEY AUTO_INCREMENT, product_id INT NOT NULL UNIQUE, image_id INT NOT NULL, FOREIGN KEY (product_id) REFERENCES product(id), FOREIGN KEY (image_id) REFERENCES image(id));